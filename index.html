<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Site Documentation Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        .code-block {
            font-family: 'Courier New', monospace;
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1rem;
            border-radius: 0.375rem;
            overflow-x: auto;
            white-space: pre;
            font-size: 12px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .tab-button {
            padding: 1rem 0.25rem;
            border-bottom: 2px solid transparent;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            background: none;
            border-top: none;
            border-left: none;
            border-right: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab-button:hover {
            color: #374151;
        }
        
        .tab-button.active {
            border-bottom-color: #3b82f6;
            color: #2563eb;
        }
        
        .workflow-container {
            transform: scale(0.75);
            transform-origin: top left;
            width: 1400px;
            height: 700px;
            position: relative;
        }
        
        .node {
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .node:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="min-h-screen bg-gray-50">
        <!-- Header -->
        <header class="bg-white border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <h1 class="text-xl font-semibold text-gray-900">AI Site Documentation Generator</h1>
                    </div>
                    <div class="text-sm text-gray-500">
                        Token-Optimized Site Maps for AI Agents
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <div class="bg-white border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="flex space-x-8" aria-label="Tabs">
                    <button class="tab-button active" onclick="switchTab('generate')">Generate</button>
                    <button class="tab-button" onclick="switchTab('history')">History</button>
                    <button class="tab-button" onclick="switchTab('comparison')">Comparison</button>
                    <button class="tab-button" onclick="switchTab('documentation')">Documentation</button>
                    <button class="tab-button" onclick="switchTab('workflow')">Workflow</button>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
            <!-- Generate Tab -->
            <div id="generate-tab" class="tab-content active">
                <div class="space-y-6">
                    <div class="bg-white shadow rounded-lg p-6">
                        <h2 class="text-lg font-medium text-gray-900 mb-4">Generate AI Site Documentation</h2>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Website URL</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://example.com">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Output Format</label>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option>AIDOC (Recommended)</option>
                                    <option>Compressed AIDOC</option>
                                    <option>Legacy JSON</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Crawl Depth</label>
                                <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="3" min="1" max="10">
                            </div>

                            <div class="flex items-center space-x-4">
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2">
                                    <span class="text-sm text-gray-700">Include API endpoints</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-2">
                                    <span class="text-sm text-gray-700">Include form actions</span>
                                </label>
                            </div>

                            <button class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">
                                Generate Documentation
                            </button>
                        </div>
                    </div>

                    <div class="bg-white shadow rounded-lg p-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4">Preview Output</h3>
                        <div class="code-block">{
  "v": "1.0",
  "d": "example.com",
  "t": 1737374400,
  "p": [
    {
      "u": "/",
      "f": "home",
      "a": ["nav", "search"],
      "n": ["/products", "/about", "/contact"]
    },
    {
      "u": "/products",
      "f": "catalog",
      "a": ["filter", "sort", "add_cart"],
      "p": ["category", "price_range"],
      "n": ["/products/{id}", "/checkout"]
    },
    {
      "u": "/products/{id}",
      "f": "detail",
      "a": ["add_cart", "review", "share"],
      "d": "dynamic",
      "n": ["/checkout", "/products"]
    },
    {
      "u": "/api/v1/search",
      "f": "api_search",
      "m": ["GET", "POST"],
      "p": ["q", "limit", "offset"],
      "r": "json_array"
    }
  ],
  "m": {
    "auth": "optional",
    "rate": "100/min",
    "lang": ["en", "es", "fr"]
  }
}</div>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="history-tab" class="tab-content">
                <div class="bg-white shadow rounded-lg">
                    <div class="px-6 py-4 border-b border-gray-200">
                        <h2 class="text-lg font-medium text-gray-900">Generation History</h2>
                    </div>
                    <div class="divide-y divide-gray-200">
                        <div class="px-6 py-4 hover:bg-gray-50 cursor-pointer">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-900">example.com</p>
                                    <p class="text-sm text-gray-500">2025-01-20 10:30:00</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-gray-900">AIDOC</p>
                                    <p class="text-sm text-gray-500">2.3 KB • 87% token reduction</p>
                                </div>
                            </div>
                        </div>
                        <div class="px-6 py-4 hover:bg-gray-50 cursor-pointer">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-900">shop.example.com</p>
                                    <p class="text-sm text-gray-500">2025-01-20 09:15:00</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-gray-900">AIDOC</p>
                                    <p class="text-sm text-gray-500">4.1 KB • 91% token reduction</p>
                                </div>
                            </div>
                        </div>
                        <div class="px-6 py-4 hover:bg-gray-50 cursor-pointer">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-900">docs.example.com</p>
                                    <p class="text-sm text-gray-500">2025-01-19 14:20:00</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-gray-900">AIDOC</p>
                                    <p class="text-sm text-gray-500">1.8 KB • 89% token reduction</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comparison Tab -->
            <div id="comparison-tab" class="tab-content">
                <div class="space-y-6">
                    <div class="bg-white shadow rounded-lg p-6">
                        <h2 class="text-lg font-medium text-gray-900 mb-4">Format Efficiency Comparison</h2>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead>
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Format</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">File Size</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estimated Tokens</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Efficiency</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">XML Sitemap</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18.5 KB</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">~4,200</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Baseline</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">AIDOC</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2.3 KB</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">~520</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">87% reduction</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Compressed AIDOC</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0.9 KB</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">~520</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">95% reduction</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white shadow rounded-lg p-6">
                            <h3 class="text-sm font-medium text-gray-900 mb-3">Traditional Sitemap.xml</h3>
                            <div class="code-block h-64 overflow-y-auto">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com/&lt;/loc&gt;
    &lt;lastmod&gt;2025-01-20&lt;/lastmod&gt;
    &lt;changefreq&gt;daily&lt;/changefreq&gt;
    &lt;priority&gt;1.0&lt;/priority&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com/products&lt;/loc&gt;
    &lt;lastmod&gt;2025-01-20&lt;/lastmod&gt;
    &lt;changefreq&gt;daily&lt;/changefreq&gt;
    &lt;priority&gt;0.8&lt;/priority&gt;
  &lt;/url&gt;
  &lt;!-- ... more URLs ... --&gt;
&lt;/urlset&gt;</div>
                        </div>
                        <div class="bg-white shadow rounded-lg p-6">
                            <h3 class="text-sm font-medium text-gray-900 mb-3">AIDOC Format</h3>
                            <div class="code-block h-64 overflow-y-auto">{
  "v": "1.0",
  "d": "example.com",
  "t": 1737374400,
  "p": [
    {
      "u": "/",
      "f": "home",
      "a": ["nav", "search"],
      "n": ["/products", "/about"]
    },
    {
      "u": "/products",
      "f": "catalog",
      "a": ["filter", "sort"],
      "n": ["/products/{id}"]
    }
  ]
}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Documentation Tab -->
            <div id="documentation-tab" class="tab-content">
                <div class="bg-white shadow rounded-lg p-6">
                    <h2 class="text-lg font-medium text-gray-900 mb-4">AIDOC Format Specification</h2>
                    <div class="prose max-w-none space-y-4 text-sm text-gray-700">
                        <section>
                            <h3 class="text-base font-semibold text-gray-900 mb-2">Overview</h3>
                            <p>
                                AIDOC (AI Documentation) is a token-optimized format designed specifically for AI agents 
                                to efficiently navigate and understand website structure. It reduces token consumption 
                                by 85-95% compared to traditional sitemaps.
                            </p>
                        </section>

                        <section>
                            <h3 class="text-base font-semibold text-gray-900 mb-2">Key Structure</h3>
                            <ul class="list-disc pl-5 space-y-1">
                                <li><code class="bg-gray-100 px-1">v</code>: Version</li>
                                <li><code class="bg-gray-100 px-1">d</code>: Domain</li>
                                <li><code class="bg-gray-100 px-1">t</code>: Timestamp (Unix)</li>
                                <li><code class="bg-gray-100 px-1">p</code>: Pages array</li>
                                <li><code class="bg-gray-100 px-1">m</code>: Metadata</li>
                            </ul>
                        </section>

                        <section>
                            <h3 class="text-base font-semibold text-gray-900 mb-2">Page Object Fields</h3>
                            <ul class="list-disc pl-5 space-y-1">
                                <li><code class="bg-gray-100 px-1">u</code>: URL path</li>
                                <li><code class="bg-gray-100 px-1">f</code>: Function/purpose</li>
                                <li><code class="bg-gray-100 px-1">a</code>: Available actions</li>
                                <li><code class="bg-gray-100 px-1">p</code>: Parameters</li>
                                <li><code class="bg-gray-100 px-1">n</code>: Navigation links</li>
                                <li><code class="bg-gray-100 px-1">m</code>: HTTP methods (for APIs)</li>
                                <li><code class="bg-gray-100 px-1">r</code>: Response type</li>
                                <li><code class="bg-gray-100 px-1">d</code>: Dynamic content flag</li>
                            </ul>
                        </section>

                        <section>
                            <h3 class="text-base font-semibold text-gray-900 mb-2">Benefits for AI Agents</h3>
                            <ul class="list-disc pl-5 space-y-1">
                                <li>Immediate understanding of page functionality</li>
                                <li>Pre-mapped navigation paths</li>
                                <li>Known action capabilities per page</li>
                                <li>API endpoint discovery without crawling</li>
                                <li>Minimal token usage for site comprehension</li>
                            </ul>
                        </section>

                        <section>
                            <h3 class="text-base font-semibold text-gray-900 mb-2">Conversion Plugins</h3>
                            <p>Optional plugins available for converting AIDOC to:</p>
                            <ul class="list-disc pl-5 space-y-1">
                                <li>Human-readable Markdown documentation</li>
                                <li>Traditional XML sitemaps</li>
                                <li>OpenAPI specifications (for API endpoints)</li>
                                <li>GraphQL schemas</li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>

            <!-- Workflow Tab -->
            <div id="workflow-tab" class="tab-content">
                <div class="bg-white shadow rounded-lg p-6">
                    <h2 class="text-lg font-medium text-gray-900 mb-2">AIDOC System Workflow</h2>
                    <p class="text-sm text-gray-600 mb-4">Complete process flow from website crawling to AI agent consumption</p>
                    
                    <!-- Zoom Controls -->
                    <div class="flex items-center gap-2 mb-4">
                        <button onclick="zoomOut()" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border border-gray-300">-</button>
                        <span class="text-sm text-gray-600 w-12 text-center" id="zoom-level">75%</span>
                        <button onclick="zoomIn()" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border border-gray-300">+</button>
                        <button onclick="resetZoom()" class="px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded border border-gray-300 ml-2">Reset Zoom</button>
                        <span class="text-xs text-gray-500 ml-4">Scroll to pan</span>
                    </div>
                    
                    <!-- Scrollable Canvas Container -->
                    <div class="border-2 border-gray-200 rounded-lg overflow-auto bg-gray-50" style="height: 500px;">
                        <div class="workflow-container" id="workflow">
                            
                            <!-- Input Phase -->
                            <div style="position: absolute; top: 20px; left: 10px;">
                                <div class="text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider">INPUT PHASE</div>
                                <div class="node bg-blue-100 border-2 border-blue-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Website URL</div>
                                    <div class="text-xs text-gray-600">https://example.com</div>
                                </div>
                                <div class="node bg-orange-100 border-2 border-orange-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Configuration</div>
                                    <div class="text-xs text-gray-600">Depth: 3, APIs: Yes</div>
                                </div>
                            </div>
                            
                            <!-- Arrow -->
                            <div style="position: absolute; top: 90px; left: 200px; font-size: 24px; color: #666; font-weight: bold;">→</div>
                            
                            <!-- Crawling Phase -->
                            <div style="position: absolute; top: 20px; left: 240px;">
                                <div class="text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider">CRAWLING PHASE</div>
                                <div class="node bg-orange-100 border-2 border-orange-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Web Crawler</div>
                                    <div class="text-xs text-gray-600">Page discovery, Forms</div>
                                </div>
                                <div class="node bg-orange-100 border-2 border-orange-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Content Analyzer</div>
                                    <div class="text-xs text-gray-600">Extract actions, Nav</div>
                                </div>
                                <div class="node bg-purple-100 border-2 border-purple-500" style="width: 180px; border-radius: 50px;">
                                    <div class="font-semibold text-sm text-center">Raw Data</div>
                                    <div class="text-xs text-gray-600 text-center">~500KB</div>
                                </div>
                            </div>
                            
                            <!-- Arrow -->
                            <div style="position: absolute; top: 90px; left: 430px; font-size: 24px; color: #666; font-weight: bold;">→</div>
                            
                            <!-- Generation Phase -->
                            <div style="position: absolute; top: 20px; left: 470px;">
                                <div class="text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider">GENERATION PHASE</div>
                                <div class="node bg-orange-100 border-2 border-orange-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">AIDOC Compiler</div>
                                    <div class="text-xs text-gray-600">Compress structure</div>
                                </div>
                                <div class="node bg-orange-100 border-2 border-orange-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Token Optimizer</div>
                                    <div class="text-xs text-gray-600">Single-letter keys</div>
                                </div>
                                <div class="node bg-green-100 border-2 border-green-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">AIDOC File</div>
                                    <div class="text-xs text-gray-600">2.3KB, ~520 tokens</div>
                                </div>
                            </div>
                            
                            <!-- Arrow -->
                            <div style="position: absolute; top: 90px; left: 660px; font-size: 24px; color: #666; font-weight: bold;">→</div>
                            
                            <!-- Consumption Phase -->
                            <div style="position: absolute; top: 20px; left: 700px;">
                                <div class="text-xs font-semibold text-gray-500 mb-3 uppercase tracking-wider">CONSUMPTION PHASE</div>
                                <div class="node bg-teal-100 border-2 border-teal-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">AI Agent Access</div>
                                    <div class="text-xs text-gray-600">GET /site.aidoc</div>
                                </div>
                                <div class="node bg-teal-100 border-2 border-teal-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Agent Navigation</div>
                                    <div class="text-xs text-gray-600">Pre-mapped paths</div>
                                </div>
                                <div class="node bg-green-100 border-2 border-green-500" style="width: 180px;">
                                    <div class="font-semibold text-sm">Task Execution</div>
                                    <div class="text-xs text-gray-600">Direct navigation</div>
                                </div>
                            </div>
                            
                            <!-- Statistics Boxes -->
                            <div style="position: absolute; top: 350px; left: 10px; right: 10px;">
                                <div class="grid grid-cols-3 gap-4">
                                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                                        <div class="font-semibold text-sm mb-2">Traditional Sitemap</div>
                                        <div class="text-xs space-y-1">
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Size:</span>
                                                <span class="font-medium">18.5 KB</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Tokens:</span>
                                                <span class="font-medium">~4,200</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Parse:</span>
                                                <span class="font-medium">~250ms</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                                        <div class="font-semibold text-sm mb-2">AIDOC Format</div>
                                        <div class="text-xs space-y-1">
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Size:</span>
                                                <span class="font-medium text-green-600">2.3 KB</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Tokens:</span>
                                                <span class="font-medium text-green-600">~520</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Parse:</span>
                                                <span class="font-medium text-green-600">~15ms</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                                        <div class="font-semibold text-sm mb-2">Efficiency Gains</div>
                                        <div class="text-xs space-y-1">
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Token Cut:</span>
                                                <span class="font-medium text-blue-600">87%</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Speed:</span>
                                                <span class="font-medium text-blue-600">16x faster</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-600">Cost Cut:</span>
                                                <span class="font-medium text-blue-600">85-95%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Legend -->
                            <div style="position: absolute; top: 500px; left: 10px;">
                                <div class="flex gap-6 text-xs">
                                    <div class="flex items-center gap-2">
                                        <div class="w-4 h-4 bg-blue-100 border-2 border-blue-500 rounded"></div>
                                        <span>Input</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-4 h-4 bg-orange-100 border-2 border-orange-500 rounded"></div>
                                        <span>Processing</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-4 h-4 bg-green-100 border-2 border-green-500 rounded"></div>
                                        <span>Output</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-4 h-4 bg-purple-100 border-2 border-purple-500 rounded-full"></div>
                                        <span>Storage</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-4 h-4 bg-teal-100 border-2 border-teal-500 rounded"></div>
                                        <span>AI Agent</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        // Tab switching functionality
        function switchTab(tabName, updateUrl = true) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.classList.add('active');
                
                // Find and activate the corresponding button
                document.querySelectorAll('.tab-button').forEach(btn => {
                    if (btn.getAttribute('onclick').includes("'" + tabName + "'")) {
                        btn.classList.add('active');
                    }
                });
                
                // Update URL if requested
                if (updateUrl) {
                    const url = new URL(window.location);
                    url.searchParams.set('tab', tabName);
                    window.history.pushState({tab: tabName}, '', url);
                }
            }
        }

        // Get tab from URL parameter
        function getTabFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('tab') || 'generate';
        }

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function(event) {
            const tab = event.state?.tab || getTabFromUrl();
            switchTab(tab, false);
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            const initialTab = getTabFromUrl();
            switchTab(initialTab, false);
        });

        // Zoom functionality for workflow
        let currentZoom = 0.75;
        const workflow = document.getElementById('workflow');
        const zoomLevelDisplay = document.getElementById('zoom-level');

        function updateZoom(zoom) {
            currentZoom = Math.max(0.4, Math.min(1.2, zoom));
            if (workflow) {
                workflow.style.transform = `scale(${currentZoom})`;
                workflow.style.width = `${1400 * currentZoom}px`;
                workflow.style.height = `${700 * currentZoom}px`;
            }
            if (zoomLevelDisplay) {
                zoomLevelDisplay.textContent = Math.round(currentZoom * 100) + '%';
            }
        }

        function zoomIn() {
            updateZoom(currentZoom + 0.1);
        }

        function zoomOut() {
            updateZoom(currentZoom - 0.1);
        }

        function resetZoom() {
            updateZoom(0.75);
        }
    </script>
</body>
</html>